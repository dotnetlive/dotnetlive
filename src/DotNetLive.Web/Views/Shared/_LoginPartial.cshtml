@using Microsoft.AspNetCore.Identity

@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{ var currentUrl = Context.Request.Path.Value + Context.Request.QueryString.Value; }
@if (SignInManager.IsSignedIn(User))
{
    <ul class="topbar-list topbar-log_reg pull-right visible-sm-block visible-md-block visible-lg-block">
        <li class="cd-log_reg home"><a class="cd-signin" asp-area="UserCenter" >欢迎 @UserManager.GetUserName(User)!</a></li>
        <li class="cd-log_reg">
            <a class="cd-signup" asp-controller="Account" asp-action="LogOff" asp-route-returnUrl="@currentUrl">注销</a>
        </li>
    </ul>
}
else
{
    <ul class="topbar-list topbar-log_reg pull-right visible-sm-block visible-md-block visible-lg-block">
        <li class="cd-log_reg home"><a class="cd-signin" asp-controller="Account" asp-action="Login" asp-route-returnUrl="@currentUrl">登陆</a></li>
        <li class="cd-log_reg">
            <a class="cd-signup" asp-controller="Account" asp-action="Register" asp-route-returnUrl="@currentUrl">注册</a>
        </li>
    </ul>
}
